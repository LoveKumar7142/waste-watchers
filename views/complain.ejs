<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complaint Form with Map and Search Feature</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="/admin-complain-css-js/complain.css">
    <link rel="stylesheet" href="/header/header.css">
    <link rel="stylesheet" href="/header/header_update.css">
    <link rel="stylesheet" href="/footer_css/footer_css.css">
    <%-include('commonHeadLinks/head_index')%>
</head>
<body class="body">
    <div class="div2">
        <%-include('headers/header_complain')%>
    </div>
    <div class="container1">
        <h2 class="h2">Waste Watcher's Complaint Box</h2>
        <form id="complaintForm" enctype="multipart/form-data" action="/submit-complaint" method="POST">
            <div class="form-group">
                <label for="name">Your Name:</label>
                <input type="text" id="name" name="name" required placeholder="Enter your name">
            </div>
            <div class="form-group">
                <label for="complaint">Complaint Details:</label>
                <textarea id="complaint" name="complaint" rows="5" required placeholder="Describe your complaint"></textarea>
            </div>
            <div class="form-group">
                <label for="image">Upload an Image (Mandatory):</label>
                <input type="file" id="image" name="image" accept="image/*" capture="environment" required>
            </div>
            
            <div class="form-group">
                <label for="address">Address:</label>
                <input type="text" id="address" name="address" placeholder="Enter address or select on map" required>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="useMap" onclick="toggleMap()"> Use map to select location
                </label>
            </div>
            
            <div class="button-container">
                <button type="button" class="btns" onclick="getCurrentLocation()">Use Current Location</button>
                <button type="button" class="btns" onclick="searchLocation()">Search Location</button>
            </div>
            
            <div class="map-container">
                <div id="map"></div>
            </div>
        
            <input type="hidden" id="latitude" name="latitude">
            <input type="hidden" id="longitude" name="longitude">
            
            <div class="button-container">
                <button type="submit" class="btns">Submit Complaint</button>
                <button type="reset" class="btns" onclick="clickHome()">Back To Home</button>
            </div>
        </form>
    </div>

    <%-include('footer_links/footer')%>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="/admin-complain-css-js/complaini.js"></script>
      <!-- Template Main JS File -->
    <script src="/assets/js/main.js"></script> 
    
</body>
</html>
