<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/admin-login-css-js/login.css">
    <link rel="stylesheet" href="/header/header.css">
    <link rel="stylesheet" href="/header/header_update.css">
    <link rel="stylesheet" href="/footer_css/footer_css.css">
    <link rel="stylesheet" href="/footer_css/footer_css.css">
    <%-include('commonHeadLinks/head_index')%>
    <title>Login & Register</title>
</head>

<body class="body">
    <div id="div9">
        <%-include('headers/header_preview')%>
    </div>
    <div class="container1">
        <div class="form-container">
            <!-- Login Form (Visible by default) -->
            <div class="form-box" id="loginFormBox">
                <h2>Login</h2>

                <!-- Display Error Message if exists -->
                <% if (typeof error !== 'undefined' && error) { %>
                    <div class="error-message">
                        <%= error %>
                    </div>
                <% } %>

                <form id="loginForm1" class="input-group1" action="/login" method="POST">
                    <label for="role" class="labels1">Select Role</label>
                    <select name="role" id="login-role" required onchange="toggleLoginFields()">
                        <option value="client">Client</option>
                        <option value="officer">Officer</option>
                    </select>

                    <label for="username" class="labels1" id="username-label">Email / Client ID</label>
                    <input type="text" placeholder="Email or Client ID" name="usernameOrEmail" required id="username-input">

                    <label for="password" class="labels1">Password</label>
                    <div class="pass1">
                        <input type="password" placeholder="Password" id="login-password1" name="password" required>
                        <i class="fas fa-eye toggle-icon" onclick="togglePassword('login-password1', this)"></i>
                    </div>

                    <div class="rem-fog1">
                        <div class="remainder-me1">
                            <input type="checkbox" id="remember-login1">
                            <label for="remember-login1">Remember Me</label>
                        </div>
                        <div class="forget1">
                            <a href="/forgot-password">Forgot Password?</a>
                        </div>
                    </div>

                    <button type="submit" class="submit-btn1">Login</button><br>
                    <div class="or1">
                        <div class="or-hr1">
                            <hr />
                        </div>
                        or
                        <div class="or-hr2">
                            <hr />
                        </div>
                    </div>

                    <div class="dont-acc1">
                        <p>Don't have an account? <a href="#" onclick="toggleForms()">Register here</a></p>
                    </div>
                </form>
            </div>

            <!-- Registration Form (Initially hidden) -->
            <div class="form-box hidden1" id="registerFormBox">
                <h2>Register</h2>
                <form id="registerForm1" class="input-group1" action="register" method="POST">
                    <label for="full_name" class="labels1">Full Name</label>
                    <input type="text" name="full_name" placeholder="Full Name" required>

                    <label for="email" class="labels1">Email</label>
                    <input type="email" placeholder="Email" name="email" required>

                    <label for="phone" class="labels1">Phone Number</label>
                    <input type="tel" placeholder="Phone Number" name="phone" required>

                    <label for="address" class="labels1">Address</label>
                    <input type="text" placeholder="Address" name="address" required>

                    <label for="gender" class="labels1">Gender</label>
                    <select name="gender" id="gender" required>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="other">Other</option>
                    </select>

                    <label for="dob" class="labels1">Date of Birth</label>
                    <input type="date" name="dob" required>

                    <label for="role" class="labels1">Select Role</label>
                    <select name="role" id="register-role" required onchange="toggleRegisterFields()">
                        <option value="client">Client</option>
                        <option value="officer">Officer</option>
                    </select>

                    <label for="username" class="labels1" id="register-username-label">Email / Client ID</label>
                    <input type="text" placeholder="Email or Client ID" name="username" id="user-reg" required>

                    <label for="password" class="labels1">Create Password</label>
                    <div class="pass1">
                        <input type="password" placeholder="Password" id="register-password1" name="password" required>
                        <i class="fas fa-eye toggle-icon" onclick="togglePassword('register-password1', this)"></i>
                    </div>

                    <label for="password" class="labels1">Confirm Password</label>
                    <div class="pass1">
                        <input type="password" placeholder="Password" id="register-password2" name="confirmPassword" required>
                        <i class="fas fa-eye toggle-icon1" onclick="togglePassword('register-password2', this)"></i>
                    </div>

                    <button type="submit" class="submit-btn1" id="regis1">Register</button>
                </form>
            </div>
        </div>
    </div>
    <%-include('footer_links/footer')%>

    <script src="/admin-login-css-js/login.js"></script>
    <script src="/assets/js/main.js"></script>

    <script>
        function toggleForms() {
            // Toggle between login and register forms
            document.getElementById('loginFormBox').classList.toggle('hidden1');
            document.getElementById('registerFormBox').classList.toggle('hidden1');
        }
        document.getElementById('registerForm1').addEventListener('submit', (event) => {
            const password = document.getElementById('register-password1').value;
            const confirmPassword = document.getElementById('register-password2').value;

            if (password !== confirmPassword) {
                event.preventDefault();
                alert('Passwords do not match!');
            }
        });
    </script>
</body>

</html>

